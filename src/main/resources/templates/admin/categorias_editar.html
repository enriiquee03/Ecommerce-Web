<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
    <title>Editar Zapatilla</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/templatemo/1.0.0/css/templatemo-style.min.css">
</head>
<body>
<div th:insert="fragments/general.html :: menu"></div>


<form  class="container tm-mt-big tm-mb-big" action="#" th:action="guardarCambiosCategoria" th:object="${categoriaEditar}" method="post" enctype="multipart/form-data" >
        <div class="row">
            <div class="col-xl-9 col-lg-10 col-md-12 col-sm-12 mx-auto">
                <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="tm-block-title d-inline-block">Editar Categoria</h2>
                        </div>
                    </div>
                    <div class="row tm-edit-product-row">
                        <div class="col-xl-6 col-lg-6 col-md-12">
                                <div class="form-group mb-3">
                                    <label for="marca">Nombre</label>
                                    <input id="nombre" name="nombre" type="text" th:field="*{nombre}" class="form-control validate" />
                                    <span style="color: red;" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}" ></span>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="modelo">Descripcion</label>
                                    <input id="descripcion" name="descripcion" type="text" th:field="*{descripcion}" class="form-control validate" />
                                    <span style="color: red;" th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}" ></span>
                                </div>
                        </div>

                        <div class="col-xl-6 col-lg-6 col-md-12 mx-auto mb-4">
                            <div>
                                <div class="tm-product-img-dummy mx-auto">
                                    <i class="fas fa-cloud-upload-alt tm-upload-icon" onclick="document.getElementById('fileInput1').click();"></i>
                                    <img id="previewImage1" src="#" alt="Preview" style="display: none; max-width: 100%; max-height: 100%;">
                                </div>
                                <div class="custom-file mt-3 mb-3">
                                    <input id="fileInput1" th:field="*{fotoSubida}" type="file" style="display: none;" onchange="previewImage('fileInput1', 'previewImage1');" />
                                    <input  type="button" class="btn btn-primary btn-block mx-auto" value="AÃ±ade la imagen principal " onclick="document.getElementById('fileInput1').click();" />
                                </div>
                              </div>
                        </div>
                        <input type="hidden" th:field="*{id}" />
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary btn-block text-uppercase">Editar Categoria</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </form>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script>
        function previewImage(inputId, imageId) {
            var fileInput = document.getElementById(inputId);
            var previewImage = document.getElementById(imageId);

            var file = fileInput.files[0];
            if (file) {
                var reader = new FileReader();

                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    previewImage.style.display = 'block';
                };

                reader.readAsDataURL(file);
            }
        }
    </script>
</body>
</html>